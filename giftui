--// Force Gift GUI
-- Put this LocalScript inside StarterGui

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Create ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "ForceGiftGui"
gui.Parent = player:WaitForChild("PlayerGui")
gui.ResetOnSpawn = false

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 200)
frame.Position = UDim2.new(0.5, -200, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true -- make movable
frame.Parent = gui

-- Title Bar
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
title.Text = "SB SCRIPTS | FORCE GIFT"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18
title.Parent = frame

-- Select Target Label
local label = Instance.new("TextLabel")
label.Position = UDim2.new(0.05, 0, 0.35, 0)
label.Size = UDim2.new(0, 150, 0, 30)
label.BackgroundTransparency = 1
label.Text = "Select Target"
label.Font = Enum.Font.SourceSansBold
label.TextSize = 20
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.Parent = frame

-- Dropdown (Player List)
local dropdown = Instance.new("TextButton")
dropdown.Position = UDim2.new(0.55, 0, 0.35, 0)
dropdown.Size = UDim2.new(0, 150, 0, 30)
dropdown.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
dropdown.Text = "Select Player"
dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
dropdown.Font = Enum.Font.SourceSans
dropdown.TextSize = 18
dropdown.Parent = frame

local selectedPlayer = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(0, 150, 0, 120)
dropdownFrame.Position = UDim2.new(0, 0, 1, 0)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
dropdownFrame.Visible = false
dropdownFrame.Parent = dropdown

local uiList = Instance.new("UIListLayout", dropdownFrame)
uiList.SortOrder = Enum.SortOrder.LayoutOrder

local function refreshDropdown()
	dropdownFrame:ClearAllChildren()
	uiList:Clone().Parent = dropdownFrame

	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			local btn = Instance.new("TextButton")
			btn.Size = UDim2.new(1, 0, 0, 30)
			btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			btn.Text = plr.Name
			btn.Parent = dropdownFrame

			btn.MouseButton1Click:Connect(function()
				selectedPlayer = plr
				dropdown.Text = plr.Name
				dropdownFrame.Visible = false
			end)
		end
	end
end

dropdown.MouseButton1Click:Connect(function()
	dropdownFrame.Visible = not dropdownFrame.Visible
	refreshDropdown()
end)

-- Gift Button
local giftBtn = Instance.new("TextButton")
giftBtn.Size = UDim2.new(0, 200, 0, 40)
giftBtn.Position = UDim2.new(0.5, -100, 0.75, 0)
giftBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
giftBtn.Text = "Gift Now"
giftBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
giftBtn.Font = Enum.Font.SourceSansBold
giftBtn.TextSize = 20
giftBtn.Parent = frame

-- Loading Screen
local loadingFrame = Instance.new("Frame")
loadingFrame.Size = frame.Size
loadingFrame.Position = frame.Position
loadingFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
loadingFrame.Visible = false
loadingFrame.Parent = gui

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 0, 40)
loadingText.Position = UDim2.new(0, 0, 0.2, 0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Please Wait"
loadingText.Font = Enum.Font.SourceSansBold
loadingText.TextSize = 20
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.Parent = loadingFrame

-- Progress Bar Background
local barBG = Instance.new("Frame")
barBG.Size = UDim2.new(0.8, 0, 0, 20)
barBG.Position = UDim2.new(0.1, 0, 0.5, 0)
barBG.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
barBG.BorderSizePixel = 0
barBG.Parent = loadingFrame

-- Progress Fill
local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
barFill.BorderSizePixel = 0
barFill.Parent = barBG

-- Loading Animation
local messages = {"Please Wait", "Checking Target Inventory", "Initiating", "Completed"}

local function playLoading()
	frame.Visible = false
	loadingFrame.Visible = true

	for i, msg in ipairs(messages) do
		loadingText.Text = msg
		barFill:TweenSize(UDim2.new(i / #messages, 0, 1, 0), "Out", "Sine", 2, true)
		wait(2)
	end

	loadingFrame.Visible = false
end

-- Button Action
giftBtn.MouseButton1Click:Connect(function()
	if selectedPlayer then
		playLoading()
	else
		loadingText.Text = "Please select a target first!"
		loadingFrame.Visible = true
		wait(2)
		loadingFrame.Visible = false
	end
end)
